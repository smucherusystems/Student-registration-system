<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JavaScript Utilities Demo</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div class="container" style="padding: 2rem 0;">
        <h1 style="text-align: center; margin-bottom: 2rem;">JavaScript Utilities Demo</h1>
        
        <!-- Notification Demo -->
        <div class="table-container" style="margin-bottom: 2rem;">
            <h2>Notification Utility Demo</h2>
            <div style="display: flex; gap: 1rem; flex-wrap: wrap; margin-top: 1rem;">
                <button class="btn btn-success" onclick="showNotification('Operation completed successfully!', 'success')">Success Notification</button>
                <button class="btn btn-danger" onclick="showNotification('An error occurred!', 'error')">Error Notification</button>
                <button class="btn btn-warning" onclick="showNotification('Please review this warning.', 'warning')">Warning Notification</button>
                <button class="btn btn-info" onclick="showNotification('Here is some information.', 'info')">Info Notification</button>
                <button class="btn btn-secondary" onclick="clearAllNotifications()">Clear All</button>
            </div>
        </div>
        
        <!-- Search Utility Demo -->
        <div class="table-container" style="margin-bottom: 2rem;">
            <h2>Search Utility Demo</h2>
            <div class="search-filter-container">
                <div class="search-box">
                    <input type="text" id="demo-search" class="search-input" placeholder="Search students...">
                </div>
            </div>
            <div class="table-responsive">
                <table id="demo-table" class="students-table">
                    <thead>
                        <tr>
                            <th>Name</th>
                            <th>Email</th>
                            <th>Course</th>
                            <th>Phone</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>John Doe</td>
                            <td>john@example.com</td>
                            <td>Computer Science</td>
                            <td>123-456-7890</td>
                        </tr>
                        <tr>
                            <td>Jane Smith</td>
                            <td>jane@example.com</td>
                            <td>Mathematics</td>
                            <td>234-567-8901</td>
                        </tr>
                        <tr>
                            <td>Bob Johnson</td>
                            <td>bob@example.com</td>
                            <td>Physics</td>
                            <td>345-678-9012</td>
                        </tr>
                        <tr>
                            <td>Alice Williams</td>
                            <td>alice@example.com</td>
                            <td>Computer Science</td>
                            <td>456-789-0123</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
        
        <!-- Modal Utility Demo -->
        <div class="table-container" style="margin-bottom: 2rem;">
            <h2>Modal Utility Demo</h2>
            <div style="display: flex; gap: 1rem; flex-wrap: wrap; margin-top: 1rem;">
                <button class="btn btn-primary" onclick="openBasicModal()">Basic Modal</button>
                <button class="btn btn-danger" onclick="openConfirmModal()">Confirm Modal</button>
                <button class="btn btn-info" onclick="openAlertModal()">Alert Modal</button>
                <button class="btn btn-warning" onclick="openPromptModal()">Prompt Modal</button>
            </div>
        </div>
        
        <!-- Form Validation Demo -->
        <div class="table-container">
            <h2>Form Validation Demo</h2>
            <form id="demo-form" style="max-width: 600px; margin-top: 1rem;">
                <div class="form-group">
                    <label class="required">Name</label>
                    <input type="text" name="name" required minlength="3" placeholder="Enter your name">
                </div>
                
                <div class="form-group">
                    <label class="required">Email</label>
                    <input type="email" name="email" required placeholder="Enter your email">
                </div>
                
                <div class="form-group">
                    <label class="required">Phone</label>
                    <input type="tel" name="phone" required data-validate="phone" placeholder="Enter your phone">
                </div>
                
                <div class="form-group">
                    <label class="required">Age</label>
                    <input type="number" name="age" required min="18" max="100" placeholder="Enter your age">
                </div>
                
                <div class="form-group">
                    <label class="required">Course</label>
                    <select name="course" required>
                        <option value="">Select a course</option>
                        <option value="cs">Computer Science</option>
                        <option value="math">Mathematics</option>
                        <option value="physics">Physics</option>
                    </select>
                </div>
                
                <button type="submit" class="btn btn-primary">Submit Form</button>
            </form>
        </div>
    </div>
    
    <!-- Include JavaScript utilities -->
    <script src="js/notifications.js"></script>
    <script src="js/search.js"></script>
    <script src="js/modal.js"></script>
    <script src="js/form-validation.js"></script>
    
    <script>
        // Initialize search
        const searchController = initializeSearch('demo-table', 'demo-search');
        
        // Initialize form validation
        const formValidator = new FormValidator('#demo-form', {
            onSubmit: (e, isValid) => {
                if (isValid) {
                    showNotification('Form submitted successfully!', 'success');
                    document.getElementById('demo-form').reset();
                    formValidator.reset();
                } else {
                    showNotification('Please fix the errors in the form.', 'error');
                }
            }
        });
        
        // Modal demos
        function openBasicModal() {
            const modal = new Modal('basic-modal');
            modal.open({
                title: 'Basic Modal',
                body: '<p>This is a basic modal dialog. You can put any content here.</p>',
                footer: '<button class="btn btn-primary" onclick="document.getElementById(\'basic-modal\').querySelector(\'.modal-close\').click()">Close</button>'
            });
        }
        
        async function openConfirmModal() {
            const result = await confirmModal({
                title: 'Confirm Delete',
                message: 'Are you sure you want to delete this item? This action cannot be undone.',
                confirmText: 'Delete',
                cancelText: 'Cancel',
                confirmClass: 'btn-danger'
            });
            
            if (result) {
                showNotification('Item deleted successfully!', 'success');
            } else {
                showNotification('Delete cancelled.', 'info');
            }
        }
        
        async function openAlertModal() {
            await alertModal({
                title: 'Success',
                message: 'Your operation completed successfully!',
                type: 'success',
                buttonText: 'OK'
            });
            showNotification('Alert closed', 'info');
        }
        
        async function openPromptModal() {
            const result = await promptModal({
                title: 'Enter Your Name',
                message: 'Please enter your name:',
                placeholder: 'John Doe',
                confirmText: 'Submit',
                cancelText: 'Cancel'
            });
            
            if (result !== null) {
                showNotification(`Hello, ${result}!`, 'success');
            } else {
                showNotification('Prompt cancelled.', 'info');
            }
        }
    </script>
</body>
</html>
